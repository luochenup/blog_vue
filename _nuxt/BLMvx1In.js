import{h as I,k as j,c as T}from"./raXDgERY.js";import{C as w,j as V,H as Z,R as B,U as c,_ as v,Z as A,L as s,am as N,c as F,an as C,F as m,Y as p,aa as t,a4 as b,$ as L,a0 as S,a9 as y,X as h}from"./Dkj_qHQx.js";import{d as k}from"./DUI5qfz0.js";const x=w({__name:"Dropdown",setup(i){const n=V(!1),d=()=>{n.value=!n.value};return(g,a)=>{const o=Z("Tooltip");return c(),B(o,{class:"dropdown",interactive:"",placement:"bottom",arrow:!1,"hide-on-click":d,offset:[0,0],visible:s(n),trigger:"click",onClickOutside:a[0]||(a[0]=l=>n.value=!1)},{content:v(({hide:l})=>[A(g.$slots,"content",{hide:()=>{l(),n.value=!1}},void 0,!0)]),default:v(()=>[A(g.$slots,"default",{toggle:d},void 0,!0)]),_:3},8,["visible"])}}}),z=Object.assign(I(x,[["__scopeId","data-v-794ce3e6"]]),{__name:"ZDropdown"}),E={class:"order-toggle"},H=["disabled","onClick"],K={class:"order-text"},R=["onClick"],U=["onClick"],X={class:"order-text"},Y=w({__name:"OrderToggle",props:N({enableAscending:{type:Boolean},disableAscending:{type:Boolean},categories:{}},{category:{},categoryModifiers:{},sortOrder:{default:"date"},sortOrderModifiers:{},isAscending:{type:Boolean},isAscendingModifiers:{}}),emits:["update:category","update:sortOrder","update:isAscending"],setup(i){const n=i,d=j(),g=d.article.order,a=F(()=>d.pagination.allowAscending?!n.disableAscending:n.enableAscending),o=C(i,"category"),l=C(i,"sortOrder"),f=C(i,"isAscending");function $(){const e=Object.keys(g);l.value=e[(e.indexOf(l.value)+1)%e.length]||"date"}function M(){a.value&&(f.value=!f.value)}return(e,O)=>{const u=T,D=z;return c(),m("div",E,[p(D,null,{default:v(({toggle:_})=>[t("button",{disabled:!e.categories,onClick:_},[p(u,{name:("getCategoryIcon"in e?e.getCategoryIcon:s(k))(o.value)},null,8,["name"]),t("span",K,y(o.value??"全部分类"),1)],8,H)]),content:v(({hide:_})=>[t("button",{class:b({active:!o.value}),onClick:r=>(_(),o.value=void 0)},[p(u,{name:("getCategoryIcon"in e?e.getCategoryIcon:s(k))()},null,8,["name"]),O[0]||(O[0]=t("span",null,"全部分类",-1))],10,R),(c(!0),m(L,null,S(e.categories,r=>(c(),m("button",{key:r,class:b({active:r===o.value}),onClick:q=>(_(),o.value=r)},[p(u,{name:("getCategoryIcon"in e?e.getCategoryIcon:s(k))(r)},null,8,["name"]),t("span",null,y(r),1)],10,U))),128))]),_:1}),t("div",null,[s(a)?(c(),m("button",{key:0,"aria-label":"切换排序方向",onClick:M},[p(u,{name:"ph:sort-ascending-bold",class:b(["toggle-direction",{ascending:f.value}])},null,8,["class"])])):h("",!0),t("button",{onClick:$},[s(a)?h("",!0):(c(),B(u,{key:0,name:"ph:sort-ascending-bold"})),t("span",X,y(s(g)[l.value]),1)])])])}}}),Q=Object.assign(I(Y,[["__scopeId","data-v-f6d2b453"]]),{__name:"ZOrderToggle"});export{Q as _};
