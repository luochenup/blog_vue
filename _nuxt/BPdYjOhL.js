const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CE3ZqNje.js","./raXDgERY.js","./Dkj_qHQx.js","./entry.FMkpf1S7.css","./DPLQhXWN.js","./CS7__6sN.js","./DUI5qfz0.js","./Dj2IyaG6.js","./FeaturedArticlesCarousel.B2yZlnBS.css"])))=>i.map(i=>d[i]);
import{k as x,p as L,h as k,m as A,l as R,o as U,q as z}from"./raXDgERY.js";import{c as C,l as I,j as $,C as V,am as Q,an as D,F as _,U as p,Y as m,$ as P,a0 as N,a9 as Y,a4 as j,L as i,ak as q,w as G,D as H,aa as b,I as W,d as h,_ as J,R as K,a2 as X,af as ee}from"./Dkj_qHQx.js";import{_ as te}from"./BLMvx1In.js";import{_ as ae}from"./D9Tpj2Ky.js";import{u as oe,a as ne,b as se,c as re}from"./DUI5qfz0.js";import"./Dj2IyaG6.js";import"./CS7__6sN.js";function le(s,n){const e=x(),{initialPage:a=1,perPage:r=e.pagination.perPage||10,bindQuery:o=!1}=n??{},u=C(()=>Math.ceil(I(s).length/r)||a);function t(f){const y=Number(f);return y>=1&&y<=u.value?y:a}const d=o?oe(o,a.toString(),{transform:t,mode:"push"}):$(a),g=C(()=>{const f=(d.value-1)*r;return I(s).slice(f,f+r)});return{totalPages:u,page:d,listPaged:g}}function ie(s,n,e=1){const a=Math.max(2,Math.min(s-e,n-2*e)),r=Math.min(n,a+2*e),o=Array.from({length:r-a+1},(u,t)=>a+t);return a>2&&o.unshift(Number.NEGATIVE_INFINITY),a>1&&o.unshift(1),r<n-1&&o.push(Number.POSITIVE_INFINITY),r<n&&o.push(n),o}const ue=["aria-label"],de=["aria-label","onClick","textContent"],ce={key:1,class:"pagination-ellipsis"},pe=V({__name:"Pagination",props:Q({totalPages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const n=s,e=D(s,"modelValue"),a=C(()=>ie(e.value,n.totalPages));return(r,o)=>{const u=L;return p(),_("nav",{class:"pagination","aria-label":`第${e.value}页，共${r.totalPages}页`},[m(u,{disabled:e.value<=1,icon:"ph:arrow-fat-left-duotone","aria-label":"上一页",onClick:o[0]||(o[0]=t=>e.value--)},null,8,["disabled"]),(p(!0),_(P,null,N(i(a),t=>(p(),_(P,{key:t},[Number.isFinite(t)?(p(),_("button",{key:0,class:j(["pagination-button",{active:t===e.value}]),"aria-label":`第${t}页`,onClick:d=>e.value=t,textContent:Y(t)},null,10,de)):(p(),_("span",ce,"…"))],64))),128)),m(u,{disabled:e.value>=r.totalPages,icon:"ph:arrow-fat-right-duotone","aria-label":"下一页",onClick:o[1]||(o[1]=t=>e.value++)},null,8,["disabled"])],8,ue)}}}),_e=Object.assign(k(pe,[["__scopeId","data-v-da86f5ab"]]),{__name:"ZPagination"}),me=W(()=>z(()=>import("./CE3ZqNje.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url).then(s=>s.default||s)),ge={class:"mobile-only"},fe={class:"featured-section"},ve={class:"post-list"},ye={class:"toolbar"},be=V({__name:"index",async setup(s){let n,e;const a=x();A({meta:[{name:"description",content:a.description},{property:"og:image",content:a.author.avatar}]}),R().setAside(["blog-stats","timeline"]);const{data:o}=([n,e]=q(()=>ne("posts%")),n=await n,e(),n),{listSorted:u,isAscending:t,sortOrder:d}=se(o),{category:g,categories:f,listCategorized:y}=re(u,{bindQuery:"category"}),{page:v,totalPages:S,listPaged:w}=le(y,{bindQuery:"page"});G(g,()=>{v.value=1}),A({title:()=>v.value>1?`第${v.value}页`:""});const M=$(!1);return H(()=>{M.value=localStorage.getItem("hide_20250725")!=="true"}),(he,c)=>{const T=U,E=me,F=te,O=ae,Z=_e;return p(),_(P,null,[b("div",ge,[m(T,{to:"/"})]),b("div",fe,[m(E)]),b("div",ve,[b("div",ye,[m(F,{"is-ascending":i(t),"onUpdate:isAscending":c[0]||(c[0]=l=>h(t)?t.value=l:null),"sort-order":i(d),"onUpdate:sortOrder":c[1]||(c[1]=l=>h(d)?d.value=l:null),category:i(g),"onUpdate:category":c[2]||(c[2]=l=>h(g)?g.value=l:null),categories:i(f)},null,8,["is-ascending","sort-order","category","categories"])]),m(ee,{name:"float-in"},{default:J(()=>[(p(!0),_(P,null,N(i(w),(l,B)=>(p(),K(O,X({key:l.path},{ref_for:!0},l,{to:l.path,"use-updated":i(d)==="updated",style:{"--delay":`${B*.05}s`}}),null,16,["to","use-updated","style"]))),128))]),_:1}),m(Z,{modelValue:i(v),"onUpdate:modelValue":c[3]||(c[3]=l=>h(v)?v.value=l:null),"total-pages":i(S)},null,8,["modelValue","total-pages"])])],64)}}}),Ve=k(be,[["__scopeId","data-v-8665b26c"]]);export{Ve as default};
