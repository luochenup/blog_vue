<!DOCTYPE html><html  lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>天气模块 | 落尘up</title><link rel="preconnect" href="https://twikoo.luochenup.top/"><link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin><link rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.9/katex.min.css"><link rel="stylesheet" href="https://fonts.googleapis.cn/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Noto+Sans+SC:wght@100..900&family=Noto+Serif+SC:wght@200..900&display=swap"><link rel="stylesheet" href="/_nuxt/entry.FMkpf1S7.css" crossorigin><link rel="stylesheet" href="/_nuxt/_...Lvrx2bqj.css" crossorigin><link rel="stylesheet" href="/_nuxt/Comment.zZ2upzCF.css" crossorigin><link rel="stylesheet" href="/_nuxt/ProseA.DhJIX4mV.css" crossorigin><link rel="stylesheet" href="/_nuxt/Toc.Bs129K59.css" crossorigin><link rel="stylesheet" href="/_nuxt/ZWidget.qVkXTaJH.css" crossorigin><link rel="stylesheet" href="/_nuxt/ProseCode.a2_W97gt.css" crossorigin><style>:where(.i-ph\:align-right-duotone){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cg fill='black'%3E%3Cpath d='M184 64v40a8 8 0 0 1-8 8H80a8 8 0 0 1-8-8V64a8 8 0 0 1 8-8h96a8 8 0 0 1 8 8m-8 80H40a8 8 0 0 0-8 8v40a8 8 0 0 0 8 8h136a8 8 0 0 0 8-8v-40a8 8 0 0 0-8-8' opacity='.2'/%3E%3Cpath d='M224 40v176a8 8 0 0 1-16 0V40a8 8 0 0 1 16 0m-32 24v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V64a16 16 0 0 1 16-16h96a16 16 0 0 1 16 16m-16 0H80v40h96Zm16 88v40a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16v-40a16 16 0 0 1 16-16h136a16 16 0 0 1 16 16m-16 0H40v40h136Z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-ph\:archive-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M224 44H32a20 20 0 0 0-20 20v24a20 20 0 0 0 16 19.6V192a20 20 0 0 0 20 20h160a20 20 0 0 0 20-20v-84.4A20 20 0 0 0 244 88V64a20 20 0 0 0-20-20M36 68h184v16H36Zm16 120v-80h152v80Zm112-52a12 12 0 0 1-12 12h-48a12 12 0 0 1 0-24h48a12 12 0 0 1 12 12'/%3E%3C/svg%3E")}:where(.i-ph\:arrow-circle-up-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20m0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84m40.49-100.49a12 12 0 0 1-17 17L140 117v51a12 12 0 0 1-24 0v-51l-11.51 11.52a12 12 0 0 1-17-17l32-32a12 12 0 0 1 17 0Z'/%3E%3C/svg%3E")}:where(.i-ph\:book-open-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M232 44h-72a43.86 43.86 0 0 0-32 13.85A43.86 43.86 0 0 0 96 44H24a12 12 0 0 0-12 12v144a12 12 0 0 0 12 12h72a20 20 0 0 1 20 20a12 12 0 0 0 24 0a20 20 0 0 1 20-20h72a12 12 0 0 0 12-12V56a12 12 0 0 0-12-12M96 188H36V68h60a20 20 0 0 1 20 20v104.81A43.8 43.8 0 0 0 96 188m124 0h-60a43.7 43.7 0 0 0-20 4.83V88a20 20 0 0 1 20-20h60Z'/%3E%3C/svg%3E")}:where(.i-ph\:calendar-dots-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M208 28h-20v-4a12 12 0 0 0-24 0v4H92v-4a12 12 0 0 0-24 0v4H48a20 20 0 0 0-20 20v160a20 20 0 0 0 20 20h160a20 20 0 0 0 20-20V48a20 20 0 0 0-20-20M68 52a12 12 0 0 0 24 0h72a12 12 0 0 0 24 0h16v24H52V52ZM52 204V100h152v104Zm92-76a16 16 0 1 1-16-16a16 16 0 0 1 16 16m48 0a16 16 0 1 1-16-16a16 16 0 0 1 16 16m-96 48a16 16 0 1 1-16-16a16 16 0 0 1 16 16m48 0a16 16 0 1 1-16-16a16 16 0 0 1 16 16m48 0a16 16 0 1 1-16-16a16 16 0 0 1 16 16'/%3E%3C/svg%3E")}:where(.i-ph\:caret-double-up-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M216.49 191.51a12 12 0 0 1-17 17L128 137l-71.51 71.49a12 12 0 0 1-17-17l80-80a12 12 0 0 1 17 0Zm-160-63L128 57l71.51 71.52a12 12 0 0 0 17-17l-80-80a12 12 0 0 0-17 0l-80 80a12 12 0 0 0 17 17Z'/%3E%3C/svg%3E")}:where(.i-ph\:chat-circle-text-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M172 108a12 12 0 0 1-12 12H96a12 12 0 0 1 0-24h64a12 12 0 0 1 12 12m-12 28H96a12 12 0 0 0 0 24h64a12 12 0 0 0 0-24m76-8a108 108 0 0 1-157.23 96.15L46.34 235A20 20 0 0 1 21 209.66l10.81-32.43A108 108 0 1 1 236 128m-24 0a84 84 0 1 0-156.73 42.06a12 12 0 0 1 1 9.81l-9.93 29.79l29.79-9.93a12.1 12.1 0 0 1 3.8-.62a12 12 0 0 1 6 1.62A84 84 0 0 0 212 128'/%3E%3C/svg%3E")}:where(.i-ph\:envelope-simple-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M224 44H32a12 12 0 0 0-12 12v136a20 20 0 0 0 20 20h176a20 20 0 0 0 20-20V56a12 12 0 0 0-12-12m-30.85 24L128 127.72L62.85 68ZM44 188V83.28l75.89 69.57a12 12 0 0 0 16.22 0L212 83.28V188Z'/%3E%3C/svg%3E")}:where(.i-ph\:files-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='m220.49 59.51l-40-40A12 12 0 0 0 172 16H92a20 20 0 0 0-20 20v20H56a20 20 0 0 0-20 20v140a20 20 0 0 0 20 20h108a20 20 0 0 0 20-20v-20h20a20 20 0 0 0 20-20V68a12 12 0 0 0-3.51-8.49M160 212H60V80h67l33 33Zm40-40h-16v-64a12 12 0 0 0-3.51-8.49l-40-40A12 12 0 0 0 132 56H96V40h71l33 33Zm-56-28a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h44a12 12 0 0 1 12 12m0 40a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h44a12 12 0 0 1 12 12'/%3E%3C/svg%3E")}:where(.i-ph\:gear-six-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M128 76a52 52 0 1 0 52 52a52.06 52.06 0 0 0-52-52m0 80a28 28 0 1 1 28-28a28 28 0 0 1-28 28m113.86-49.57a12 12 0 0 0-5.86-8.09l-27.79-15.85l-.11-31.31a12 12 0 0 0-4.25-9.12a116 116 0 0 0-38-21.41a12 12 0 0 0-9.68.89L128 37.27L99.83 21.53a12 12 0 0 0-9.7-.9a116.1 116.1 0 0 0-38 21.47a12 12 0 0 0-4.24 9.1l-.14 31.34L20 98.35a12 12 0 0 0-5.85 8.11a110.7 110.7 0 0 0 0 43.11a12 12 0 0 0 5.85 8.09l27.82 15.85l.11 31.31a12 12 0 0 0 4.25 9.12a116 116 0 0 0 38 21.41a12 12 0 0 0 9.68-.89L128 218.73l28.14 15.74a12 12 0 0 0 9.7.9a116.1 116.1 0 0 0 38-21.47a12 12 0 0 0 4.24-9.1l.14-31.34l27.81-15.81a12 12 0 0 0 5.85-8.11a110.7 110.7 0 0 0-.02-43.11m-22.63 33.18l-26.88 15.28a11.94 11.94 0 0 0-4.55 4.59c-.54 1-1.11 1.93-1.7 2.88a12 12 0 0 0-1.83 6.31l-.14 30.33a91.8 91.8 0 0 1-21.07 11.87l-27.15-15.19a12 12 0 0 0-5.86-1.53h-3.73a12.1 12.1 0 0 0-6.14 1.51L93 210.82A92.3 92.3 0 0 1 71.88 199l-.11-30.24a12 12 0 0 0-1.83-6.32c-.58-.94-1.16-1.91-1.7-2.88A11.9 11.9 0 0 0 63.7 155l-26.9-15.37a86.5 86.5 0 0 1 0-23.24l26.88-15.28a12 12 0 0 0 4.55-4.58c.54-1 1.11-1.94 1.7-2.89a12 12 0 0 0 1.83-6.31L71.87 57a91.8 91.8 0 0 1 21.07-11.83l27.15 15.19a11.9 11.9 0 0 0 6.15 1.52h3.44a12.1 12.1 0 0 0 6.14-1.51L163 45.18A92.3 92.3 0 0 1 184.12 57l.11 30.24a12 12 0 0 0 1.83 6.32c.58.94 1.16 1.91 1.7 2.88a11.9 11.9 0 0 0 4.54 4.56l26.9 15.33a86.5 86.5 0 0 1 .03 23.28'/%3E%3C/svg%3E")}:where(.i-ph\:github-logo-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M212.62 75.17A63.7 63.7 0 0 0 206.39 26A12 12 0 0 0 196 20a63.71 63.71 0 0 0-50 24h-20a63.71 63.71 0 0 0-50-24a12 12 0 0 0-10.39 6a63.7 63.7 0 0 0-6.23 49.17A61.5 61.5 0 0 0 52 104v8a60.1 60.1 0 0 0 45.76 58.28A43.66 43.66 0 0 0 92 192v4H76a20 20 0 0 1-20-20a44.05 44.05 0 0 0-44-44a12 12 0 0 0 0 24a20 20 0 0 1 20 20a44.05 44.05 0 0 0 44 44h16v12a12 12 0 0 0 24 0v-40a20 20 0 0 1 40 0v40a12 12 0 0 0 24 0v-40a43.66 43.66 0 0 0-5.76-21.72A60.1 60.1 0 0 0 220 112v-8a61.5 61.5 0 0 0-7.38-28.83M196 112a36 36 0 0 1-36 36h-48a36 36 0 0 1-36-36v-8a37.87 37.87 0 0 1 6.13-20.12a11.65 11.65 0 0 0 1.58-11.49a39.9 39.9 0 0 1-.4-27.72a39.87 39.87 0 0 1 26.41 17.8a12 12 0 0 0 10.1 5.53h32.35a12 12 0 0 0 10.11-5.53a39.84 39.84 0 0 1 26.41-17.8a39.9 39.9 0 0 1-.4 27.72a12 12 0 0 0 1.61 11.53A37.85 37.85 0 0 1 196 104Z'/%3E%3C/svg%3E")}:where(.i-ph\:highlighter-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M252.49 107.51a12 12 0 0 0-17 0L192 151l-79-79l43.52-43.51a12 12 0 0 0-17-17L93.17 57.86a20 20 0 0 0-4.72 20.72L69.17 97.86a20 20 0 0 0 0 28.28L71 128l-55.49 55.51a12 12 0 0 0 4.7 19.87l72 24A11.8 11.8 0 0 0 96 228a12 12 0 0 0 8.49-3.52L136 193l1.86 1.86a20 20 0 0 0 28.28 0l19.27-19.27a20.3 20.3 0 0 0 6.59 1.13a19.86 19.86 0 0 0 14.14-5.86l46.35-46.34a12 12 0 0 0 0-17.01M92.76 202.27l-46.55-15.51L88 145l31 31ZM152 175l-55.51-55.48L89 112l15-15l63 63Z'/%3E%3C/svg%3E")}:where(.i-ph\:house-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='m222.14 105.85l-80-80a20 20 0 0 0-28.28 0l-80 80A19.86 19.86 0 0 0 28 120v96a12 12 0 0 0 12 12h64a12 12 0 0 0 12-12v-52h24v52a12 12 0 0 0 12 12h64a12 12 0 0 0 12-12v-96a19.86 19.86 0 0 0-5.86-14.15M204 204h-40v-52a12 12 0 0 0-12-12h-48a12 12 0 0 0-12 12v52H52v-82.35l76-76l76 76Z'/%3E%3C/svg%3E")}:where(.i-ph\:link-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M117.18 188.74a12 12 0 0 1 0 17l-5.12 5.12A58.26 58.26 0 0 1 70.6 228a58.62 58.62 0 0 1-41.46-100.08l34.75-34.75a58.64 58.64 0 0 1 98.56 28.11a12 12 0 1 1-23.37 5.44a34.65 34.65 0 0 0-58.22-16.58l-34.75 34.75A34.62 34.62 0 0 0 70.57 204a34.4 34.4 0 0 0 24.49-10.14l5.11-5.12a12 12 0 0 1 17.01 0M226.83 45.17a58.65 58.65 0 0 0-82.93 0l-5.11 5.11a12 12 0 0 0 17 17l5.12-5.12a34.63 34.63 0 1 1 49 49l-34.81 34.7A34.4 34.4 0 0 1 150.61 156a34.63 34.63 0 0 1-33.69-26.72a12 12 0 0 0-23.38 5.44A58.64 58.64 0 0 0 150.56 180h.05a58.28 58.28 0 0 0 41.47-17.17l34.75-34.75a58.62 58.62 0 0 0 0-82.91'/%3E%3C/svg%3E")}:where(.i-ph\:magnifying-glass-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M232.49 215.51L185 168a92.12 92.12 0 1 0-17 17l47.53 47.54a12 12 0 0 0 17-17ZM44 112a68 68 0 1 1 68 68a68.07 68.07 0 0 1-68-68'/%3E%3C/svg%3E")}:where(.i-ph\:monitor-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M208 36H48a28 28 0 0 0-28 28v112a28 28 0 0 0 28 28h160a28 28 0 0 0 28-28V64a28 28 0 0 0-28-28m4 140a4 4 0 0 1-4 4H48a4 4 0 0 1-4-4V64a4 4 0 0 1 4-4h160a4 4 0 0 1 4 4Zm-40 52a12 12 0 0 1-12 12H96a12 12 0 0 1 0-24h64a12 12 0 0 1 12 12'/%3E%3C/svg%3E")}:where(.i-ph\:moon-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M236.37 139.4a12 12 0 0 0-12-3A84.07 84.07 0 0 1 119.6 31.59a12 12 0 0 0-15-15a108.86 108.86 0 0 0-54.91 38.48A108 108 0 0 0 136 228a107.1 107.1 0 0 0 64.93-21.69a108.86 108.86 0 0 0 38.44-54.94a12 12 0 0 0-3-11.97m-49.88 47.74A84 84 0 0 1 68.86 69.51a84.9 84.9 0 0 1 23.41-21.22Q92 52.13 92 56a108.12 108.12 0 0 0 108 108q3.87 0 7.71-.27a84.8 84.8 0 0 1-21.22 23.41'/%3E%3C/svg%3E")}:where(.i-ph\:newspaper-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M92 108a12 12 0 0 1 12-12h72a12 12 0 0 1 0 24h-72a12 12 0 0 1-12-12m12 52h72a12 12 0 0 0 0-24h-72a12 12 0 0 0 0 24m132-96v120a28 28 0 0 1-28 28H36a32 32 0 0 1-32-32V88a12 12 0 0 1 24 0v92a8 8 0 0 0 16 0V64a20 20 0 0 1 20-20h152a20 20 0 0 1 20 20m-24 4H68v112a32 32 0 0 1-1 8h141a4 4 0 0 0 4-4Z'/%3E%3C/svg%3E")}:where(.i-ph\:paragraph-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M208 36H96a68 68 0 0 0 0 136h36v36a12 12 0 0 0 24 0V60h16v148a12 12 0 0 0 24 0V60h12a12 12 0 0 0 0-24m-76 112H96a44 44 0 0 1 0-88h36Z'/%3E%3C/svg%3E")}:where(.i-ph\:rss-simple-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M228 192a12 12 0 0 1-24 0c0-77.2-62.8-140-140-140a12 12 0 0 1 0-24c90.43 0 164 73.57 164 164M64 100a12 12 0 0 0 0 24a68.07 68.07 0 0 1 68 68a12 12 0 0 0 24 0a92.1 92.1 0 0 0-92-92m4 72a16 16 0 1 0 16 16a16 16 0 0 0-16-16'/%3E%3C/svg%3E")}:where(.i-ph\:share-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='m232.49 112.49l-48 48a12 12 0 0 1-17-17L195 116h-30a84 84 0 0 0-81.36 63a12 12 0 1 1-23.24-6A107.94 107.94 0 0 1 165 92h30l-27.49-27.52a12 12 0 0 1 17-17l48 48a12 12 0 0 1-.02 17.01M192 204H44V88a12 12 0 0 0-24 0v128a12 12 0 0 0 12 12h160a12 12 0 0 0 0-24'/%3E%3C/svg%3E")}:where(.i-ph\:sidebar-duotone){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cg fill='black'%3E%3Cpath d='M88 48v160H40a8 8 0 0 1-8-8V56a8 8 0 0 1 8-8Z' opacity='.2'/%3E%3Cpath d='M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M40 152h16a8 8 0 0 0 0-16H40v-16h16a8 8 0 0 0 0-16H40V88h16a8 8 0 0 0 0-16H40V56h40v144H40Zm176 48H96V56h120z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-ph\:subway-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M228 96v112a12 12 0 0 1-24 0V96a52.06 52.06 0 0 0-52-52h-48a52.06 52.06 0 0 0-52 52v112a12 12 0 0 1-24 0V96a76.08 76.08 0 0 1 76-76h48a76.08 76.08 0 0 1 76 76m-40 0v72a28 28 0 0 1-18.89 26.47l2 5.07a12 12 0 0 1-6.68 15.6a11.9 11.9 0 0 1-4.43.86a12 12 0 0 1-11.14-7.54l-5-12.46h-31.74l-5 12.46A12 12 0 0 1 96 216a11.9 11.9 0 0 1-4.46-.86a12 12 0 0 1-6.68-15.6l2-5.07A28 28 0 0 1 68 168V96a28 28 0 0 1 28-28h64a28 28 0 0 1 28 28m-96 0v36h72V96a4 4 0 0 0-4-4H96a4 4 0 0 0-4 4m72 72v-12h-24v16h20a4 4 0 0 0 4-4m-48 4v-16H92v12a4 4 0 0 0 4 4Z'/%3E%3C/svg%3E")}:where(.i-ph\:sun-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M116 36V20a12 12 0 0 1 24 0v16a12 12 0 0 1-24 0m80 92a68 68 0 1 1-68-68a68.07 68.07 0 0 1 68 68m-24 0a44 44 0 1 0-44 44a44.05 44.05 0 0 0 44-44M51.51 68.49a12 12 0 1 0 17-17l-12-12a12 12 0 0 0-17 17Zm0 119l-12 12a12 12 0 0 0 17 17l12-12a12 12 0 1 0-17-17M196 72a12 12 0 0 0 8.49-3.51l12-12a12 12 0 0 0-17-17l-12 12A12 12 0 0 0 196 72m8.49 115.51a12 12 0 0 0-17 17l12 12a12 12 0 0 0 17-17ZM48 128a12 12 0 0 0-12-12H20a12 12 0 0 0 0 24h16a12 12 0 0 0 12-12m80 80a12 12 0 0 0-12 12v16a12 12 0 0 0 24 0v-16a12 12 0 0 0-12-12m108-92h-16a12 12 0 0 0 0 24h16a12 12 0 0 0 0-24'/%3E%3C/svg%3E")}:where(.i-ph\:user-circle-bold){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' width='256' height='256'%3E%3Cpath fill='black' d='M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20M79.57 196.57a60 60 0 0 1 96.86 0a83.72 83.72 0 0 1-96.86 0M100 120a28 28 0 1 1 28 28a28 28 0 0 1-28-28m94 59.94a83.5 83.5 0 0 0-29-23.42a52 52 0 1 0-74 0a83.5 83.5 0 0 0-29 23.42a84 84 0 1 1 131.9 0Z'/%3E%3C/svg%3E")}:where(.i-ri\:creative-commons-line){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M9 8c1.104 0 2.105.448 2.829 1.173l-1.414 1.413a2 2 0 1 0 0 2.828l1.413 1.414A4.001 4.001 0 0 1 5 12c0-2.208 1.792-4 4-4m9.829 1.173A4.001 4.001 0 0 0 12 12a4.001 4.001 0 0 0 6.828 2.828l-1.414-1.414a2 2 0 1 1 0-2.828zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12m10-8a8 8 0 1 0 0 16a8 8 0 0 0 0-16'/%3E%3C/svg%3E")}:where(.i-ri\:qq-line){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='m17.536 12.514l-.696-1.796c0-.021.01-.375.01-.558C16.85 7.088 15.447 4 12 4s-4.848 3.088-4.848 6.16c0 .183.009.537.01.557l-.696 1.797c-.19.515-.38 1.05-.517 1.51c-.657 2.189-.444 3.095-.282 3.115c.348.043 1.354-1.648 1.354-1.648c0 .98.487 2.258 1.542 3.18c-.394.127-.878.32-1.188.557c-.28.214-.245.431-.194.52c.22.385 3.79.245 4.82.125c1.03.12 4.599.26 4.82-.126c.05-.088.085-.305-.194-.519c-.311-.237-.795-.43-1.19-.556c1.055-.923 1.542-2.202 1.542-3.181c0 0 1.007 1.691 1.355 1.648c.162-.02.378-.928-.283-3.116a27 27 0 0 0-.516-1.509m1.021 8.227c-.373.652-.833.892-1.438 1.057a5 5 0 0 1-.794.138c-.44.045-.986.065-1.613.064a33 33 0 0 1-2.71-.116c-.692.065-1.785.114-2.71.116a16 16 0 0 1-1.614-.064a5 5 0 0 1-.793-.138c-.605-.164-1.065-.405-1.44-1.059a2.27 2.27 0 0 1-.239-1.652c-.592-.132-1.001-.482-1.279-.911a2.4 2.4 0 0 1-.309-.71a4 4 0 0 1-.116-1.106c.013-.785.187-1.762.532-2.912c.14-.466.327-1.008.567-1.655l.554-1.43l-.002-.203C5.153 5.605 7.589 2 12 2c4.413 0 6.848 3.605 6.848 8.16l-.001.203l.553 1.43l.01.026c.225.606.413 1.153.556 1.626c.348 1.15.522 2.128.535 2.916q.012.61-.118 1.108c-.066.246-.161.48-.31.708c-.276.427-.684.776-1.277.91c.13.554.055 1.14-.24 1.654'/%3E%3C/svg%3E")}:where(.i-simple-icons\:nuxtdotjs){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M13.464 19.83h8.922c.283 0 .562-.073.807-.21a1.6 1.6 0 0 0 .591-.574a1.53 1.53 0 0 0 .216-.783a1.53 1.53 0 0 0-.217-.782L17.792 7.414a1.6 1.6 0 0 0-.591-.573a1.65 1.65 0 0 0-.807-.21c-.283 0-.562.073-.807.21a1.6 1.6 0 0 0-.59.573L13.463 9.99L10.47 4.953a1.6 1.6 0 0 0-.591-.573a1.65 1.65 0 0 0-.807-.21c-.284 0-.562.073-.807.21a1.6 1.6 0 0 0-.591.573L.216 17.481a1.53 1.53 0 0 0-.217.782c0 .275.074.545.216.783a1.6 1.6 0 0 0 .59.574c.246.137.525.21.808.21h5.6c2.22 0 3.856-.946 4.982-2.79l2.733-4.593l1.464-2.457l4.395 7.382h-5.859Zm-6.341-2.46l-3.908-.002l5.858-9.842l2.923 4.921l-1.957 3.29c-.748 1.196-1.597 1.632-2.916 1.632'/%3E%3C/svg%3E")}:where(.i-solar\:rewind-back-bold-duotone){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' fill-rule='evenodd' d='M22 6.426v11.148c0 1.847-1.6 3.015-2.903 2.118L13 15.232V8.768l6.097-4.46C20.399 3.411 22 4.58 22 6.426' clip-rule='evenodd' opacity='.5'/%3E%3Cpath fill='black' d='M13 7.123v9.754c0 1.616-1.467 2.638-2.661 1.853L2.92 13.853c-1.228-.807-1.228-2.899 0-3.706l7.42-4.877c1.193-.785 2.66.237 2.66 1.853'/%3E%3C/svg%3E")}:where(.i-solar\:rewind-forward-bold-duotone){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' fill-rule='evenodd' d='M2 6.426v11.148c0 1.847 1.6 3.015 2.903 2.118L11 15.232V8.768l-6.097-4.46C3.601 3.411 2 4.58 2 6.426' clip-rule='evenodd' opacity='.5'/%3E%3Cpath fill='black' d='M11 7.123v9.754c0 1.616 1.467 2.638 2.661 1.853l7.418-4.877c1.228-.807 1.228-2.899 0-3.706L13.66 5.27C12.467 4.485 11 5.507 11 7.123'/%3E%3C/svg%3E")}</style><link rel="modulepreload" as="script" crossorigin href="/_nuxt/raXDgERY.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dkj_qHQx.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CN1T09XU.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dj2IyaG6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DUI5qfz0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CS7__6sN.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CING10YA.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/rJCbAzvX.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BbMOdRHw.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BbvJvVG1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/xFg6T9EQ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Yza7fqXX.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CJD5SA27.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BX82KQmb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/l4-Y4khN.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cf0BHinq.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Co_YU8RA.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CWR-TKAJ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BOMktavK.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/89003721-fc0f-4366-b280-857afaca1928.json"><script src="https://lib.baomitu.com/twikoo/1.6.44/twikoo.min.js" defer></script><link rel="prefetch" as="style" crossorigin href="/_nuxt/Search.Cw6TbFYv.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BTSAGta7.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/ArchiveLog.CYztPBWW.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/C5BRbDif.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/BlogLog.CG2qgSUC.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/1WHE7-Go.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/BlogStats.Bxr2IP2e.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/B-KsPHHe.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/fHJKm3TX.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/Connectivity.CVGrJyNH.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CqJ779zG.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DxKiCPIj.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/FeaturedArticles.Ng3U_wCH.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/Lm0H2pqf.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DPLQhXWN.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/GithubCard.B7pr8JCM.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/XmA-W0YV.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/JikeLog.BQWv2xh2.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DUcwk71R.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/NewsBlogStats.B_z-xFM9.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BkSBmzrd.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/NewsTimeline.CIA-VOu1.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/B73JXxFt.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/Timeline.DVs2q-xH.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/D6G26jdx.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/Weather.ParjHhzv.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CO7HNDHH.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CIF3D_B3.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/deGonkTA.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/q-j0iyEw.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DVMEJ2y_.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ConhrzKn.js"><link rel="icon" href="https://www.luochenup.xyz/b_a5a3aa888355bdc617dca021efb19ab8.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="author" content="落尘up, 969488647@qq.com"><meta name="generator" content="zhilu-blog" data-github-repo="https://github.com/L33Z22L11/blog-v3" data-version="3.3.4"><meta name="mobile-web-app-capable" content="yes"><meta property="og:type" content="article"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta property="og:image" content="https://www.luochenup.xyz/weather.webp"><meta name="description" content="本站中天气模块是一个显示郑州地区天气信息的小部件（站长身处郑州）,该模块通过调用第三方天气API获取实时天气数据，并以美观的卡片形式展示出来。"><script type="module" src="/_nuxt/raXDgERY.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="天气模块 | 落尘up"><meta property="og:description" data-infer="" content="本站中天气模块是一个显示郑州地区天气信息的小部件（站长身处郑州）,该模块通过调用第三方天气API获取实时天气数据，并以美观的卡片形式展示出来。"><link rel="canonical" href="https://www.luochen.chat/2025/weather"><meta property="og:url" content="https://www.luochen.chat/2025/weather"><meta property="og:locale" content="zh_CN"><meta property="og:site_name" content="落尘up"><script id="unhead:payload" type="application/json">{"templateParams":{"separator":"|"},"titleTemplate":"%s %separator 落尘up"}</script><script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}</script><script>!function(o,t){const a=o.map(atob),e=atob(t),n=document.querySelector('link[rel="canonical"]');a.some(o=>location.hostname.endsWith(o))&&(n&&(n.href=n.href.replace(location.host,e)),location.host=e)}(["ZGdqbHguY29t","ZGd2aHF0LmNvbQ==","aGNtc2xhLmNvbQ==","d21sb3AuY29t","eXN3anhzLmNvbQ=="],"d3d3Lmx1b2NoZW4uY2hhdA==");</script></head><body><div id="z-root"><!--[--><div class="nuxt-loading-indicator" style="position:fixed;top:0;right:0;left:0;pointer-events:none;width:auto;height:3px;opacity:0;background:repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%);background-size:Infinity% auto;transform:scaleX(0%);transform-origin:left;transition:transform 0.1s, height 0.4s, opacity 0.4s;z-index:999999;"></div><a href="#main-content" class="skip-link gradient-card active" data-v-8fdfd33d> 跳转到主要内容 / Skip to content </a><!--[--><!----><aside id="z-sidebar" class="" data-v-66394818><a href="/" class="zhilu-header sidebar-header" data-v-66394818 data-v-5076feb3><!--[--><div class="emoji-tail" data-v-5076feb3><!--[--><span class="splitted-char" style="--delay:-3s;" data-v-5076feb3>💻</span><span class="splitted-char" style="--delay:-2.4s;" data-v-5076feb3>📖</span><span class="splitted-char" style="--delay:-1.8s;" data-v-5076feb3>☕️</span><span class="splitted-char" style="--delay:-1.2000000000000002s;" data-v-5076feb3>💭</span><span class="splitted-char" style="--delay:-0.6000000000000001s;" data-v-5076feb3>🌙</span><!--]--></div><img onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="落尘up" data-nuxt-img srcset="/_ipx/q_85/img/avatar.png 1x, /_ipx/q_85/img/avatar.png 2x" class="zhilu-logo circle" src="/_ipx/q_85/img/avatar.png" data-v-5076feb3><div class="zhilu-text" data-v-5076feb3><div class="header-title" data-v-5076feb3><!--[--><span class="splitted-char" style="--delay:0.1s;" data-v-5076feb3>落</span><span class="splitted-char" style="--delay:0.2s;" data-v-5076feb3>尘</span><span class="splitted-char" style="--delay:0.30000000000000004s;" data-v-5076feb3>u</span><span class="splitted-char" style="--delay:0.4s;" data-v-5076feb3>p</span><!--]--></div><div class="header-subtitle" data-v-5076feb3>愿你我都做,生活的高手。</div></div><!--]--></a><nav class="sidebar-nav scrollcheck-y" data-v-66394818><div class="search-btn sidebar-nav-item gradient-card" data-v-66394818><span class="iconify i-ph:magnifying-glass-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>搜索</span><span class="keycut widescreen-only" data-v-66394818>Ctrl+K</span></div><!--[--><!--[--><!----><menu data-v-66394818><!--[--><li data-v-66394818><a href="/about" class="sidebar-nav-item" data-v-66394818><!--[--><span class="iconify i-ph:user-circle-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>我说</span><!----><!--]--></a></li><li data-v-66394818><a href="/" class="sidebar-nav-item" data-v-66394818><!--[--><span class="iconify i-ph:files-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>文章</span><!----><!--]--></a></li><li data-v-66394818><a href="/news" class="sidebar-nav-item" data-v-66394818><!--[--><span class="iconify i-ph:newspaper-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>阅闻</span><!----><!--]--></a></li><li data-v-66394818><a href="/novel" class="sidebar-nav-item" data-v-66394818><!--[--><span class="iconify i-ph:book-open-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>说说</span><!----><!--]--></a></li><li data-v-66394818><a href="/archive" class="sidebar-nav-item" data-v-66394818><!--[--><span class="iconify i-ph:archive-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>归档</span><!----><!--]--></a></li><li data-v-66394818><a href="/link" class="sidebar-nav-item" data-v-66394818><!--[--><span class="iconify i-ph:link-bold icon" aria-hidden="true" style="" data-v-66394818></span><span class="nav-text" data-v-66394818>友链</span><!----><!--]--></a></li><!--]--></menu><!--]--><!--]--></nav><footer class="sidebar-footer" data-v-66394818><div class="theme-toggle" data-v-66394818 data-v-e7a12ec1><!--[--><button aria-label="浅色模式" class="" data-v-e7a12ec1><span class="iconify i-ph:sun-bold icon" aria-hidden="true" style="" data-v-e7a12ec1></span></button><button aria-label="跟随系统" class="active" data-v-e7a12ec1><span class="iconify i-ph:monitor-bold icon" aria-hidden="true" style="" data-v-e7a12ec1></span></button><button aria-label="深色模式" class="" data-v-e7a12ec1><span class="iconify i-ph:moon-bold icon" aria-hidden="true" style="" data-v-e7a12ec1></span></button><!--]--></div><menu data-v-66394818 data-v-915035bb><!--[--><a href="https://www.luochen.chat/" rel="noopener noreferrer" target="_blank" aria-label="个人主页" data-v-915035bb><!--[--><span class="iconify i-ph:house-bold icon" aria-hidden="true" style="" data-v-915035bb></span><!--]--></a><a href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=969488647" rel="noopener noreferrer" target="_blank" aria-label="QQ: 969488647" data-v-915035bb><!--[--><span class="iconify i-ri:qq-line icon" aria-hidden="true" style="" data-v-915035bb></span><!--]--></a><a href="https://github.com/luochenup" rel="noopener noreferrer" target="_blank" aria-label="github" data-v-915035bb><!--[--><span class="iconify i-ph:github-logo-bold icon" aria-hidden="true" style="" data-v-915035bb></span><!--]--></a><a href="/atom.xml" rel="noopener noreferrer" target="_blank" aria-label="Atom订阅" data-v-915035bb><!--[--><span class="iconify i-ph:rss-simple-bold icon" aria-hidden="true" style="" data-v-915035bb></span><!--]--></a><!--]--></menu></footer></aside><!--]--><div id="content"><main id="main-content"><!--[--><div class="post-header has-cover" data-v-87b84342 data-v-67d0fc08><img onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="天气模块" data-nuxt-img srcset="/_ipx/q_85/https:/www.luochenup.xyz/weather.webp 1x, /_ipx/q_85/https:/www.luochenup.xyz/weather.webp 2x" class="post-cover" src="/_ipx/q_85/https:/www.luochenup.xyz/weather.webp" data-v-67d0fc08><div class="post-nav" data-v-67d0fc08><div class="operations" data-v-67d0fc08><button class="button" data-v-67d0fc08 data-v-e363985c><div class="button-main" data-v-e363985c><span class="iconify i-ph:share-bold icon" aria-hidden="true" style="" data-v-e363985c></span><!--[--> 文字分享 <!--]--></div><!----></button></div><div class="post-info" data-v-67d0fc08><time datetime="2025-08-31T17:00:00.000Z" data-v-67d0fc08><span class="iconify i-ph:calendar-dots-bold icon" aria-hidden="true" style="" data-v-67d0fc08></span> 9月1日</time><!----><span class="article-category" data-v-67d0fc08><span class="iconify i-ph:gear-six-bold icon" aria-hidden="true" style="" data-v-67d0fc08></span> 魔改</span><span class="wordcount" data-v-67d0fc08><span class="iconify i-ph:paragraph-bold icon" aria-hidden="true" style="" data-v-67d0fc08></span> 1364 字 </span></div></div><h1 class="text-tech post-title" data-v-67d0fc08>天气模块</h1></div><div class="md-excerpt gradient-card" data-v-87b84342 data-v-bf7538b0><span class="iconify i-ph:highlighter-bold icon" aria-hidden="true" style="" data-v-bf7538b0></span></div><article class="article md-tech" data-v-87b84342><h1 id="天气模块设计文档"><!--[-->天气模块设计文档<!--]--></h1><h2 id="概述"><a href="#概述"><!--[-->概述<!--]--></a></h2><p><!--[-->天气模块是一个显示郑州地区天气信息的小部件（站长身处郑州），集成在news页面的右侧栏中。该模块通过调用第三方天气API获取实时天气数据，并以美观的卡片形式展示出来。<!--]--></p><h2 id="技术架构"><a href="#技术架构"><!--[-->技术架构<!--]--></a></h2><ul><!--[--><li><!--[--><strong><!--[-->图标<!--]--></strong>: Phosphor Icons<!--]--></li><li><!--[--><strong><!--[-->天气API<!--]--></strong>: 和风天气API (openapi.weathercn.com)<!--]--></li><!--]--></ul><h2 id="实现步骤"><a href="#实现步骤"><!--[-->实现步骤<!--]--></a></h2><h3 id="第一步创建天气组件-weathervue"><a href="#第一步创建天气组件-weathervue"><!--[-->第一步：创建天气组件 (Weather.vue)<!--]--></a></h3><p><!--[--><strong><!--[-->文件路径<!--]--></strong>: <code data-v-cdb8f38f><!--[-->app/components/widget/Weather.vue<!--]--></code><!--]--></p><p><!--[--><strong><!--[-->作用<!--]--></strong>: 主要的天气显示组件，负责获取天气数据、处理数据格式化和渲染UI<!--]--></p><p><!--[--><strong><!--[-->核心代码结构<!--]--></strong>:<!--]--></p><figure class="z-codeblock collapsed collapsible" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>vue</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-vue shiki scrollcheck-x" data-v-19f013c9>&lt;script setup lang=&quot;ts&quot;&gt;

interface WeatherData {
  Headline: {
    EffectiveDate: string
    Text: string
    Category: string
  }
  DailyForecasts: Array&lt;{
    Date: string
    Temperature: {
      Minimum: { Value: number; Unit: string }
      Maximum: { Value: number; Unit: string }
    }
    Day: { IconPhrase: string; HasPrecipitation: boolean }
    Night: { IconPhrase: string; HasPrecipitation: boolean }
  }&gt;
}


const weatherData = ref&lt;WeatherData | null&gt;(null)
const loading = ref(true)
const error = ref&lt;string | null&gt;(null)


const fetchWeather = async () =&gt; {
  try {
    loading.value = true
    error.value = null
    
    const response = await fetch(&#039;https://openapi.weathercn.com/forecasts/v1/daily/1day/102675.json?apikey=******&#039;)
    
    if (!response.ok) {
      throw new Error(&#039;获取天气数据失败&#039;)
    }
    
    const data = await response.json()
    weatherData.value = data
  } catch (err) {
    error.value = err instanceof Error ? err.message : &#039;获取天气数据失败&#039;
  } finally {
    loading.value = false
  }
}


const formatTemperature = (temp: number) =&gt; `${temp}°C`
const getWeatherIcon = (text: string) =&gt; { /* 根据天气描述返回对应图标 */ }
const getWindIcon = (direction: string) =&gt; { /* 根据风向返回对应图标 */ }


onMounted(() =&gt; {
  fetchWeather()
  
  refreshInterval = setInterval(fetchWeather, 60 * 60 * 1000)
})

onUnmounted(() =&gt; {
  if (refreshInterval) {
    clearInterval(refreshInterval)
  }
})
&lt;/script&gt;
</pre><button class="toggle-btn" aria-label="展开代码块" data-v-19f013c9><span class="iconify i-ph:caret-double-up-bold icon toggle-icon is-collapsed" aria-hidden="true" style="" data-v-19f013c9></span><span class="toggle-tip" data-v-19f013c9>63 行</span></button></figure><p><!--[--><strong><!--[-->模板结构<!--]--></strong>:<!--]--></p><ul><!--[--><li><!--[-->加载状态显示<!--]--></li><li><!--[-->错误状态处理<!--]--></li><li><!--[-->城市信息展示<!--]--></li><li><!--[-->今日天气概览（温度、天气图标、描述）<!--]--></li><li><!--[-->天气详情（白天/夜间天气、降水信息）<!--]--></li><li><!--[-->天气提示信息<!--]--></li><li><!--[-->数据更新时间<!--]--></li><!--]--></ul><h3 id="第二步创建懒加载包装组件-lazywidgetweathervue"><a href="#第二步创建懒加载包装组件-lazywidgetweathervue"><!--[-->第二步：创建懒加载包装组件 (LazyWidgetWeather.vue)<!--]--></a></h3><p><!--[--><strong><!--[-->文件路径<!--]--></strong>: <code data-v-cdb8f38f><!--[-->app/components/widget/LazyWidgetWeather.vue<!--]--></code><!--]--></p><p><!--[--><strong><!--[-->作用<!--]--></strong>: 使用Vue的<code data-v-cdb8f38f><!--[-->defineAsyncComponent<!--]--></code>和<code data-v-cdb8f38f><!--[-->Suspense<!--]--></code>实现组件的懒加载，提升页面性能<!--]--></p><p><!--[--><strong><!--[-->代码实现<!--]--></strong>:<!--]--></p><figure class="z-codeblock collapsed collapsible" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>vue</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-vue shiki scrollcheck-x" data-v-19f013c9>&lt;script setup lang=&quot;ts&quot;&gt;
defineAsyncComponent(() =&gt; import(&#039;./Weather.vue&#039;))
&lt;/script&gt;

&lt;template&gt;
&lt;Suspense&gt;
  &lt;template #default&gt;
    &lt;Weather /&gt;
  &lt;/template&gt;
  &lt;template #fallback&gt;
    &lt;div class=&quot;widget-placeholder&quot;&gt;
      &lt;div class=&quot;placeholder-content&quot;&gt;
        &lt;div class=&quot;placeholder-icon&quot;&gt;🌤️&lt;/div&gt;
        &lt;div class=&quot;placeholder-text&quot;&gt;天气信息加载中...&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/template&gt;
&lt;/Suspense&gt;
&lt;/template&gt;
</pre><button class="toggle-btn" aria-label="展开代码块" data-v-19f013c9><span class="iconify i-ph:caret-double-up-bold icon toggle-icon is-collapsed" aria-hidden="true" style="" data-v-19f013c9></span><span class="toggle-tip" data-v-19f013c9>19 行</span></button></figure><p><!--[--><strong><!--[-->设计优势<!--]--></strong>:<!--]--></p><ul><!--[--><li><!--[-->减少初始页面加载时间<!--]--></li><li><!--[-->提供友好的加载状态提示<!--]--></li><li><!--[-->使用Suspense处理异步组件状态<!--]--></li><!--]--></ul><h3 id="第三步注册组件到组件系统"><a href="#第三步注册组件到组件系统"><!--[-->第三步：注册组件到组件系统<!--]--></a></h3><p><!--[--><strong><!--[-->文件路径<!--]--></strong>: <code data-v-cdb8f38f><!--[-->app/composables/useWidgets.ts<!--]--></code><!--]--></p><p><!--[--><strong><!--[-->作用<!--]--></strong>: 将天气组件注册到全局组件系统中，使其可以被动态调用<!--]--></p><p><!--[--><strong><!--[-->关键代码<!--]--></strong>:<!--]--></p><figure class="z-codeblock collapsed collapsible" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>typescript</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-typescript shiki scrollcheck-x" data-v-19f013c9>import { LazyWidgetWeather } from &#039;#components&#039;

const rawWidgets = {
  LazyWidgetWeather,
}


export type WidgetName = RemovePrefix&lt;KebabCase&lt;RawWidgetName&gt;, &#039;-lazy-widget-&#039;&gt;


export default function useWidgets(widgetList: MaybeRefOrGetter&lt;WidgetName[]&gt;) {
  const widgets = computed(() =&gt; (toValue(widgetList) || []).map(widget =&gt; ({
    name: widget,
    comp: rawWidgets[`LazyWidget${pascal(widget)}` as RawWidgetName],
  })))
  return { widgets }
}
</pre><button class="toggle-btn" aria-label="展开代码块" data-v-19f013c9><span class="iconify i-ph:caret-double-up-bold icon toggle-icon is-collapsed" aria-hidden="true" style="" data-v-19f013c9></span><span class="toggle-tip" data-v-19f013c9>17 行</span></button></figure><p><!--[--><strong><!--[-->命名转换规则<!--]--></strong>:<!--]--></p><ul><!--[--><li><!--[--><code data-v-cdb8f38f><!--[-->LazyWidgetWeather<!--]--></code> → <code data-v-cdb8f38f><!--[-->weather<!--]--></code><!--]--></li><li><!--[-->自动处理组件名称的kebab-case转换<!--]--></li><!--]--></ul><h3 id="第四步配置布局状态管理"><a href="#第四步配置布局状态管理"><!--[-->第四步：配置布局状态管理<!--]--></a></h3><p><!--[--><strong><!--[-->文件路径<!--]--></strong>: <code data-v-cdb8f38f><!--[-->app/stores/layout.ts<!--]--></code><!--]--></p><p><!--[--><strong><!--[-->作用<!--]--></strong>: 管理页面布局状态，包括侧边栏、右侧栏的开关状态和显示的小部件列表<!--]--></p><p><!--[--><strong><!--[-->核心功能<!--]--></strong>:<!--]--></p><figure class="z-codeblock" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>typescript</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-typescript shiki scrollcheck-x" data-v-19f013c9>export const useLayoutStore = defineStore(&#039;layout&#039;, () =&gt; {
  const asideWidgets = ref&lt;WidgetName[]&gt;([])
  
  const setAside = (widgets?: WidgetName[]) =&gt; {
    if (widgets) {
      asideWidgets.value = widgets ?? []
    }
  }
  
  return {
    asideWidgets,
    setAside,
  }
})
</pre><!----></figure><p><!--[--><strong><!--[-->状态管理<!--]--></strong>:<!--]--></p><ul><!--[--><li><!--[-->存储当前页面需要显示的右侧栏小部件列表<!--]--></li><li><!--[-->提供<code data-v-cdb8f38f><!--[-->setAside<!--]--></code>方法动态设置小部件<!--]--></li><!--]--></ul><h3 id="第五步在页面中启用天气模块"><a href="#第五步在页面中启用天气模块"><!--[-->第五步：在页面中启用天气模块<!--]--></a></h3><p><!--[--><strong><!--[-->文件路径<!--]--></strong>: <code data-v-cdb8f38f><!--[-->app/pages/news.vue<!--]--></code><!--]--></p><p><!--[--><strong><!--[-->作用<!--]--></strong>: 在news页面中配置并启用天气小部件<!--]--></p><p><!--[--><strong><!--[-->关键代码<!--]--></strong>:<!--]--></p><figure class="z-codeblock" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>vue</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-vue shiki scrollcheck-x" data-v-19f013c9>&lt;script setup lang=&quot;ts&quot;&gt;
const layoutStore = useLayoutStore()


layoutStore.setAside([&#039;weather&#039;])
&lt;/script&gt;
</pre><!----></figure><p><!--[--><strong><!--[-->实现逻辑<!--]--></strong>:<!--]--></p><ul><!--[--><li><!--[-->页面加载时调用<code data-v-cdb8f38f><!--[-->layoutStore.setAside([&#39;weather&#39;])<!--]--></code><!--]--></li><li><!--[-->将<code data-v-cdb8f38f><!--[-->weather<!--]--></code>添加到右侧栏小部件列表中<!--]--></li><li><!--[-->触发右侧栏显示天气模块<!--]--></li><!--]--></ul><h3 id="第六步渲染右侧栏组件"><a href="#第六步渲染右侧栏组件"><!--[-->第六步：渲染右侧栏组件<!--]--></a></h3><p><!--[--><strong><!--[-->文件路径<!--]--></strong>: <code data-v-cdb8f38f><!--[-->app/components/ZAside.vue<!--]--></code><!--]--></p><p><!--[--><strong><!--[-->作用<!--]--></strong>: 根据布局状态动态渲染右侧栏中的小部件<!--]--></p><p><!--[--><strong><!--[-->核心实现<!--]--></strong>:<!--]--></p><figure class="z-codeblock" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>vue</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-vue shiki scrollcheck-x" data-v-19f013c9>&lt;script setup lang=&quot;ts&quot;&gt;
const layoutStore = useLayoutStore()
const { widgets } = useWidgets(() =&gt; layoutStore.asideWidgets)
&lt;/script&gt;

&lt;template&gt;
&lt;aside v-if=&quot;layoutStore.asideWidgets?.length&quot; id=&quot;z-aside&quot;&gt;
  &lt;TransitionGroup name=&quot;float-in&quot;&gt;
    &lt;component 
      :is=&quot;widget.comp&quot; 
      v-for=&quot;widget in widgets&quot; 
      :key=&quot;widget.name&quot; 
    /&gt;
  &lt;/TransitionGroup&gt;
&lt;/aside&gt;
&lt;/template&gt;
</pre><!----></figure><p><!--[--><strong><!--[-->渲染机制<!--]--></strong>:<!--]--></p><ul><!--[--><li><!--[-->监听<code data-v-cdb8f38f><!--[-->layoutStore.asideWidgets<!--]--></code>的变化<!--]--></li><li><!--[-->使用<code data-v-cdb8f38f><!--[-->useWidgets<!--]--></code>组合式函数获取组件实例<!--]--></li><li><!--[-->动态渲染小部件组件<!--]--></li><li><!--[-->支持动画过渡效果<!--]--></li><!--]--></ul><h2 id="数据流程"><a href="#数据流程"><!--[-->数据流程<!--]--></a></h2><figure class="z-codeblock collapsed collapsible" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>text</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-text shiki scrollcheck-x" data-v-19f013c9>1. news.vue 页面加载
   ↓
2. 调用 layoutStore.setAside([&#039;weather&#039;])
   ↓
3. 更新 asideWidgets 状态
   ↓
4. ZAside.vue 监听到状态变化
   ↓
5. useWidgets 解析组件名称
   ↓
6. 渲染 LazyWidgetWeather 组件
   ↓
7. Weather.vue 组件挂载
   ↓
8. 调用天气API获取数据
   ↓
9. 渲染天气信息UI
</pre><button class="toggle-btn" aria-label="展开代码块" data-v-19f013c9><span class="iconify i-ph:caret-double-up-bold icon toggle-icon is-collapsed" aria-hidden="true" style="" data-v-19f013c9></span><span class="toggle-tip" data-v-19f013c9>17 行</span></button></figure><h2 id="样式设计特点"><a href="#样式设计特点"><!--[-->样式设计特点<!--]--></a></h2><h3 id="响应式布局"><a href="#响应式布局"><!--[-->响应式布局<!--]--></a></h3><ul><!--[--><li><!--[-->使用CSS Grid和Flexbox实现灵活布局<!--]--></li><li><!--[-->支持移动端和桌面端的不同显示效果<!--]--></li><li><!--[-->使用CSS变量实现主题切换<!--]--></li><!--]--></ul><h3 id="视觉层次"><a href="#视觉层次"><!--[-->视觉层次<!--]--></a></h3><ul><!--[--><li><!--[-->清晰的信息分组和间距<!--]--></li><li><!--[-->使用图标增强可读性<!--]--></li><li><!--[-->合理的颜色对比和字体大小<!--]--></li><!--]--></ul><h3 id="交互体验"><a href="#交互体验"><!--[-->交互体验<!--]--></a></h3><ul><!--[--><li><!--[-->加载状态和错误状态的友好提示<!--]--></li><li><!--[-->自动刷新机制（每小时更新一次）<!--]--></li><li><!--[-->重试按钮支持手动刷新<!--]--></li><!--]--></ul><h2 id="配置说明"><a href="#配置说明"><!--[-->配置说明<!--]--></a></h2><h3 id="天气api配置"><a href="#天气api配置"><!--[-->天气API配置<!--]--></a></h3><ul><!--[--><li><!--[--><strong><!--[-->API地址<!--]--></strong>: <code data-v-cdb8f38f><!--[-->https://openapi.weathercn.com/forecasts/v1/daily/1day/{cityCode}.json<!--]--></code><!--]--></li><li><!--[--><strong><!--[-->城市代码<!--]--></strong>: <code data-v-cdb8f38f><!--[-->{cityCode}<!--]--></code> (郑州)<!--]--></li><li><!--[--><strong><!--[-->API密钥<!--]--></strong>: <code data-v-cdb8f38f><!--[-->******<!--]--></code> (需要申请和风天气API密钥)<!--]--></li><li><!--[--><strong><!--[-->数据格式<!--]--></strong>: JSON格式的天气预报数据<!--]--></li><!--]--></ul><h3 id="组件配置"><a href="#组件配置"><!--[-->组件配置<!--]--></a></h3><ul><!--[--><li><!--[--><strong><!--[-->自动刷新间隔<!--]--></strong>: 60分钟<!--]--></li><li><!--[--><strong><!--[-->默认城市<!--]--></strong>: 郑州<!--]--></li><li><!--[--><strong><!--[-->温度单位<!--]--></strong>: 摄氏度<!--]--></li><li><!--[--><strong><!--[-->语言<!--]--></strong>: 中文<!--]--></li><!--]--></ul><h2 id="扩展性设计"><a href="#扩展性设计"><!--[-->扩展性设计<!--]--></a></h2><h3 id="支持多城市"><a href="#支持多城市"><!--[-->支持多城市<!--]--></a></h3><p><!--[-->可以通过修改城市代码和API参数来支持其他城市：<!--]--></p><figure class="z-codeblock" style="--collapsible-height:16em;" data-v-19f013c9><figcaption data-v-19f013c9><span data-v-19f013c9></span><span class="language" data-v-19f013c9>typescript</span><div class="operations" data-v-19f013c9><button data-v-19f013c9>自动换行</button><button data-v-19f013c9>复制</button></div></figcaption><pre class="language-typescript shiki scrollcheck-x" data-v-19f013c9>
const cityCodes = {
  &#039;zhengzhou&#039;: &#039;{cityCode1}&#039;,
  &#039;beijing&#039;: &#039;{cityCode2}&#039;,
  &#039;shanghai&#039;: &#039;{cityCode3}&#039;
}
</pre><!----></figure><h2 id="性能优化"><a href="#性能优化"><!--[-->性能优化<!--]--></a></h2><h3 id="懒加载"><a href="#懒加载"><!--[-->懒加载<!--]--></a></h3><ul><!--[--><li><!--[-->使用<code data-v-cdb8f38f><!--[-->defineAsyncComponent<!--]--></code>延迟加载天气组件<!--]--></li><li><!--[-->减少初始页面加载时间<!--]--></li><!--]--></ul><h3 id="缓存策略"><a href="#缓存策略"><!--[-->缓存策略<!--]--></a></h3><ul><!--[--><li><!--[-->每小时自动刷新一次，避免频繁API调用<!--]--></li><li><!--[-->可以进一步实现本地存储缓存<!--]--></li><!--]--></ul><h3 id="错误处理"><a href="#错误处理"><!--[-->错误处理<!--]--></a></h3><ul><!--[--><li><!--[-->完善的错误边界处理<!--]--></li><li><!--[-->用户友好的错误提示和重试机制<!--]--></li><!--]--></ul></article><div class="post-footer" data-v-87b84342 data-v-8990bdfb><!----><section class="license" data-v-8990bdfb><div class="title text-creative" data-v-8990bdfb> 许可协议 </div><div class="content" data-v-8990bdfb><p data-v-8990bdfb> 本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="noopener noreferrer" target="_blank" class="z-link" data-v-8990bdfb data-v-3dea6575><!--[--><span class="iconify i-ri:creative-commons-line icon domain-icon" aria-hidden="true" style="" data-v-3dea6575></span><!--[-->署名-非商业性使用-相同方式共享 4.0 国际<!--]--><!--]--></a> 许可协议，转载请注明出处。 </p></div></section></div><!--[--><!----><div class="surround-post" data-v-f181f773><!--[--><a href="/2025/carousel-slide" class="surround-link" data-v-f181f773><!--[--><span class="iconify i-solar:rewind-back-bold-duotone icon" aria-hidden="true" style="" data-v-f181f773></span><div class="surround-text" data-v-f181f773><strong class="title text-tech" data-v-f181f773>轮播滑块</strong><time datetime="2025-09-05T06:29:02.000Z" data-v-f181f773>9月5日</time></div><!--]--></a><!--]--><!--[--><a href="/2025/cursor" class="surround-link" align-right data-v-f181f773><!--[--><span class="iconify i-solar:rewind-forward-bold-duotone icon" aria-hidden="true" style="" data-v-f181f773></span><div class="surround-text" data-v-f181f773><strong class="title text-tech" data-v-f181f773>实战Cursor</strong><time datetime="2025-08-23T18:16:02.000Z" data-v-f181f773>8月24日</time></div><!--]--></a><!--]--></div><!--]--><section class="z-comment" data-v-87b84342 data-v-8cd3c73d><h3 class="text-creative" data-v-8cd3c73d> 评论区 </h3><div id="twikoo" data-v-8cd3c73d><p data-v-8cd3c73d>评论加载中...</p></div></section><!--]--><footer class="z-footer" data-v-af220f05><nav class="footer-nav" data-v-af220f05><!--[--><div class="footer-nav-group" data-v-af220f05><h3 data-v-af220f05>探索</h3><menu data-v-af220f05><!--[--><li data-v-af220f05><a href="/atom.xml" rel="noopener noreferrer" target="_blank" data-v-af220f05><!--[--><span class="iconify i-ph:rss-simple-bold icon" aria-hidden="true" style="" data-v-af220f05></span><span class="nav-text" data-v-af220f05>Atom订阅</span><!--]--></a></li><li data-v-af220f05><a href="https://www.travellings.cn/" rel="noopener noreferrer" target="_blank" data-v-af220f05><!--[--><span class="iconify i-ph:subway-bold icon" aria-hidden="true" style="" data-v-af220f05></span><span class="nav-text" data-v-af220f05>开往</span><!--]--></a></li><!--]--></menu></div><div class="footer-nav-group" data-v-af220f05><h3 data-v-af220f05>社交</h3><menu data-v-af220f05><!--[--><li data-v-af220f05><a href="https://github.com/luochenup" rel="noopener noreferrer" target="_blank" data-v-af220f05><!--[--><span class="iconify i-ph:github-logo-bold icon" aria-hidden="true" style="" data-v-af220f05></span><span class="nav-text" data-v-af220f05>github</span><!--]--></a></li><li data-v-af220f05><a href="mailto:969488647@qq.com" rel="noopener noreferrer" target="_blank" data-v-af220f05><!--[--><span class="iconify i-ph:envelope-simple-bold icon" aria-hidden="true" style="" data-v-af220f05></span><span class="nav-text" data-v-af220f05>969488647@qq.com</span><!--]--></a></li><!--]--></menu></div><div class="footer-nav-group" data-v-af220f05><h3 data-v-af220f05>信息</h3><menu data-v-af220f05><!--[--><li data-v-af220f05><a href="https://github.com/L33Z22L11/blog-v3" rel="noopener noreferrer" target="_blank" data-v-af220f05><!--[--><span class="iconify i-simple-icons:nuxtdotjs icon" aria-hidden="true" style="" data-v-af220f05></span><span class="nav-text" data-v-af220f05>Nuxt开源主题</span><!--]--></a></li><!--]--></menu></div><!--]--></nav><p data-v-af220f05>© 2025 落尘up</p><p data-v-af220f05></p></footer></main><!--[--><!----><aside id="z-aside" class="" data-v-2c78b393><!--[--><section class="widget" data-v-2c78b393 data-v-4e58124c data-v-5ae6f21c><header class="widget-title text-creative" data-v-5ae6f21c><!--[--><span class="title" data-v-4e58124c>文章目录</span><a href="#main-content" aria-label="返回开头" data-v-4e58124c><span class="iconify i-ph:arrow-circle-up-bold icon" aria-hidden="true" style="" data-v-4e58124c></span></a><a href="#twikoo" aria-label="评论区" data-v-4e58124c><span class="iconify i-ph:chat-circle-text-bold icon" aria-hidden="true" style="" data-v-4e58124c></span></a><!--]--></header><main class="widget-body" data-v-5ae6f21c><!--[--><!----><ol data-v-4e58124c data-v-4e58124c><!--[--><li class="" data-v-4e58124c><a href="#概述" title="概述" data-v-4e58124c>概述</a><!----></li><li class="" data-v-4e58124c><a href="#技术架构" title="技术架构" data-v-4e58124c>技术架构</a><!----></li><li class="" data-v-4e58124c><a href="#实现步骤" title="实现步骤" data-v-4e58124c>实现步骤</a><ol data-v-4e58124c data-v-4e58124c><!--[--><li class="" data-v-4e58124c><a href="#第一步创建天气组件-weathervue" title="第一步：创建天气组件 (Weather.vue)" data-v-4e58124c>第一步：创建天气组件 (Weather.vue)</a><!----></li><li class="" data-v-4e58124c><a href="#第二步创建懒加载包装组件-lazywidgetweathervue" title="第二步：创建懒加载包装组件 (LazyWidgetWeather.vue)" data-v-4e58124c>第二步：创建懒加载包装组件 (LazyWidgetWeather.vue)</a><!----></li><li class="" data-v-4e58124c><a href="#第三步注册组件到组件系统" title="第三步：注册组件到组件系统" data-v-4e58124c>第三步：注册组件到组件系统</a><!----></li><li class="" data-v-4e58124c><a href="#第四步配置布局状态管理" title="第四步：配置布局状态管理" data-v-4e58124c>第四步：配置布局状态管理</a><!----></li><li class="" data-v-4e58124c><a href="#第五步在页面中启用天气模块" title="第五步：在页面中启用天气模块" data-v-4e58124c>第五步：在页面中启用天气模块</a><!----></li><li class="" data-v-4e58124c><a href="#第六步渲染右侧栏组件" title="第六步：渲染右侧栏组件" data-v-4e58124c>第六步：渲染右侧栏组件</a><!----></li><!--]--></ol></li><li class="" data-v-4e58124c><a href="#数据流程" title="数据流程" data-v-4e58124c>数据流程</a><!----></li><li class="" data-v-4e58124c><a href="#样式设计特点" title="样式设计特点" data-v-4e58124c>样式设计特点</a><ol data-v-4e58124c data-v-4e58124c><!--[--><li class="" data-v-4e58124c><a href="#响应式布局" title="响应式布局" data-v-4e58124c>响应式布局</a><!----></li><li class="" data-v-4e58124c><a href="#视觉层次" title="视觉层次" data-v-4e58124c>视觉层次</a><!----></li><li class="" data-v-4e58124c><a href="#交互体验" title="交互体验" data-v-4e58124c>交互体验</a><!----></li><!--]--></ol></li><li class="" data-v-4e58124c><a href="#配置说明" title="配置说明" data-v-4e58124c>配置说明</a><ol data-v-4e58124c data-v-4e58124c><!--[--><li class="" data-v-4e58124c><a href="#天气api配置" title="天气API配置" data-v-4e58124c>天气API配置</a><!----></li><li class="" data-v-4e58124c><a href="#组件配置" title="组件配置" data-v-4e58124c>组件配置</a><!----></li><!--]--></ol></li><li class="" data-v-4e58124c><a href="#扩展性设计" title="扩展性设计" data-v-4e58124c>扩展性设计</a><ol data-v-4e58124c data-v-4e58124c><!--[--><li class="" data-v-4e58124c><a href="#支持多城市" title="支持多城市" data-v-4e58124c>支持多城市</a><!----></li><!--]--></ol></li><li class="" data-v-4e58124c><a href="#性能优化" title="性能优化" data-v-4e58124c>性能优化</a><ol data-v-4e58124c data-v-4e58124c><!--[--><li class="" data-v-4e58124c><a href="#懒加载" title="懒加载" data-v-4e58124c>懒加载</a><!----></li><li class="" data-v-4e58124c><a href="#缓存策略" title="缓存策略" data-v-4e58124c>缓存策略</a><!----></li><li class="" data-v-4e58124c><a href="#错误处理" title="错误处理" data-v-4e58124c>错误处理</a><!----></li><!--]--></ol></li><!--]--></ol><!--]--></main></section><!--]--></aside><!--]--></div><div id="z-panel" class="" data-v-1ad51e09><button id="toggle-sidebar" class="" aria-label="切换菜单" data-v-1ad51e09><span class="iconify i-ph:sidebar-duotone icon" aria-hidden="true" style="" data-v-1ad51e09></span></button><button id="toggle-aside" class="" aria-label="切换侧边栏" data-v-1ad51e09><span class="iconify i-ph:align-right-duotone icon" aria-hidden="true" style="" data-v-1ad51e09></span></button></div><!--[--><!--]--><!--]--></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://www.luochen.chat/#website","@type":"WebSite","inLanguage":"zh-CN","name":"落尘up","url":"https://www.luochen.chat/"},{"@id":"https://www.luochen.chat/2025/weather#webpage","@type":"WebPage","description":"本站中天气模块是一个显示郑州地区天气信息的小部件（站长身处郑州）,该模块通过调用第三方天气API获取实时天气数据，并以美观的卡片形式展示出来。","name":"天气模块","url":"https://www.luochen.chat/2025/weather","isPartOf":{"@id":"https://www.luochen.chat/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://www.luochen.chat/2025/weather"]}]}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__">[["ShallowReactive",1],{"prerenderedAt":2,"data":3,"state":1002,"once":1015,"_errors":1016,"serverRendered":575,"path":576,"pinia":1018},1761487500321,["ShallowReactive",4],{"/2025/weather":5,"toc-/2025/weather":586,"surround-/2025/weather":991},{"id":6,"title":7,"body":8,"categories":567,"date":569,"description":570,"draft":571,"extension":572,"image":573,"meta":574,"navigation":575,"path":576,"readingTime":577,"recommend":543,"references":582,"seo":583,"stem":584,"tags":582,"type":582,"updated":569,"__hash__":585},"content/posts/2025/weather.md","天气模块",{"type":9,"value":10,"toc":534},"minimark",[11,15,19,23,26,43,46,51,61,67,73,83,88,111,115,122,135,140,146,151,162,166,173,178,183,191,196,210,214,221,226,231,237,242,254,258,265,270,274,280,285,302,306,313,318,323,329,334,356,359,367,370,373,384,387,398,401,412,415,419,453,456,482,485,488,491,497,500,503,512,515,523,526],[12,13,14],"h1",{"id":14},"天气模块设计文档",[16,17,18],"h2",{"id":18},"概述",[20,21,22],"p",{},"天气模块是一个显示郑州地区天气信息的小部件（站长身处郑州），集成在news页面的右侧栏中。该模块通过调用第三方天气API获取实时天气数据，并以美观的卡片形式展示出来。",[16,24,25],{"id":25},"技术架构",[27,28,29,37],"ul",{},[30,31,32,36],"li",{},[33,34,35],"strong",{},"图标",": Phosphor Icons",[30,38,39,42],{},[33,40,41],{},"天气API",": 和风天气API (openapi.weathercn.com)",[16,44,45],{"id":45},"实现步骤",[47,48,50],"h3",{"id":49},"第一步创建天气组件-weathervue","第一步：创建天气组件 (Weather.vue)",[20,52,53,56,57],{},[33,54,55],{},"文件路径",": ",[58,59,60],"code",{"code":60},"app/components/widget/Weather.vue",[20,62,63,66],{},[33,64,65],{},"作用",": 主要的天气显示组件，负责获取天气数据、处理数据格式化和渲染UI",[20,68,69,72],{},[33,70,71],{},"核心代码结构",":",[74,75,81],"pre",{"className":76,"code":78,"language":79,"meta":80},[77],"language-vue","\u003Cscript setup lang=\"ts\">\n\ninterface WeatherData {\n  Headline: {\n    EffectiveDate: string\n    Text: string\n    Category: string\n  }\n  DailyForecasts: Array\u003C{\n    Date: string\n    Temperature: {\n      Minimum: { Value: number; Unit: string }\n      Maximum: { Value: number; Unit: string }\n    }\n    Day: { IconPhrase: string; HasPrecipitation: boolean }\n    Night: { IconPhrase: string; HasPrecipitation: boolean }\n  }>\n}\n\n\nconst weatherData = ref\u003CWeatherData | null>(null)\nconst loading = ref(true)\nconst error = ref\u003Cstring | null>(null)\n\n\nconst fetchWeather = async () => {\n  try {\n    loading.value = true\n    error.value = null\n    \n    const response = await fetch('https://openapi.weathercn.com/forecasts/v1/daily/1day/102675.json?apikey=******')\n    \n    if (!response.ok) {\n      throw new Error('获取天气数据失败')\n    }\n    \n    const data = await response.json()\n    weatherData.value = data\n  } catch (err) {\n    error.value = err instanceof Error ? err.message : '获取天气数据失败'\n  } finally {\n    loading.value = false\n  }\n}\n\n\nconst formatTemperature = (temp: number) => `${temp}°C`\nconst getWeatherIcon = (text: string) => { /* 根据天气描述返回对应图标 */ }\nconst getWindIcon = (direction: string) => { /* 根据风向返回对应图标 */ }\n\n\nonMounted(() => {\n  fetchWeather()\n  \n  refreshInterval = setInterval(fetchWeather, 60 * 60 * 1000)\n})\n\nonUnmounted(() => {\n  if (refreshInterval) {\n    clearInterval(refreshInterval)\n  }\n})\n\u003C/script>\n","vue","",[58,82,78],{"__ignoreMap":80},[20,84,85,72],{},[33,86,87],{},"模板结构",[27,89,90,93,96,99,102,105,108],{},[30,91,92],{},"加载状态显示",[30,94,95],{},"错误状态处理",[30,97,98],{},"城市信息展示",[30,100,101],{},"今日天气概览（温度、天气图标、描述）",[30,103,104],{},"天气详情（白天/夜间天气、降水信息）",[30,106,107],{},"天气提示信息",[30,109,110],{},"数据更新时间",[47,112,114],{"id":113},"第二步创建懒加载包装组件-lazywidgetweathervue","第二步：创建懒加载包装组件 (LazyWidgetWeather.vue)",[20,116,117,56,119],{},[33,118,55],{},[58,120,121],{"code":121},"app/components/widget/LazyWidgetWeather.vue",[20,123,124,126,127,130,131,134],{},[33,125,65],{},": 使用Vue的",[58,128,129],{"code":129},"defineAsyncComponent","和",[58,132,133],{"code":133},"Suspense","实现组件的懒加载，提升页面性能",[20,136,137,72],{},[33,138,139],{},"代码实现",[74,141,144],{"className":142,"code":143,"language":79,"meta":80},[77],"\u003Cscript setup lang=\"ts\">\ndefineAsyncComponent(() => import('./Weather.vue'))\n\u003C/script>\n\n\u003Ctemplate>\n\u003CSuspense>\n  \u003Ctemplate #default>\n    \u003CWeather />\n  \u003C/template>\n  \u003Ctemplate #fallback>\n    \u003Cdiv class=\"widget-placeholder\">\n      \u003Cdiv class=\"placeholder-content\">\n        \u003Cdiv class=\"placeholder-icon\">🌤️\u003C/div>\n        \u003Cdiv class=\"placeholder-text\">天气信息加载中...\u003C/div>\n      \u003C/div>\n    \u003C/div>\n  \u003C/template>\n\u003C/Suspense>\n\u003C/template>\n",[58,145,143],{"__ignoreMap":80},[20,147,148,72],{},[33,149,150],{},"设计优势",[27,152,153,156,159],{},[30,154,155],{},"减少初始页面加载时间",[30,157,158],{},"提供友好的加载状态提示",[30,160,161],{},"使用Suspense处理异步组件状态",[47,163,165],{"id":164},"第三步注册组件到组件系统","第三步：注册组件到组件系统",[20,167,168,56,170],{},[33,169,55],{},[58,171,172],{"code":172},"app/composables/useWidgets.ts",[20,174,175,177],{},[33,176,65],{},": 将天气组件注册到全局组件系统中，使其可以被动态调用",[20,179,180,72],{},[33,181,182],{},"关键代码",[74,184,189],{"className":185,"code":187,"language":188,"meta":80},[186],"language-typescript","import { LazyWidgetWeather } from '#components'\n\nconst rawWidgets = {\n  LazyWidgetWeather,\n}\n\n\nexport type WidgetName = RemovePrefix\u003CKebabCase\u003CRawWidgetName>, '-lazy-widget-'>\n\n\nexport default function useWidgets(widgetList: MaybeRefOrGetter\u003CWidgetName[]>) {\n  const widgets = computed(() => (toValue(widgetList) || []).map(widget => ({\n    name: widget,\n    comp: rawWidgets[`LazyWidget${pascal(widget)}` as RawWidgetName],\n  })))\n  return { widgets }\n}\n","typescript",[58,190,187],{"__ignoreMap":80},[20,192,193,72],{},[33,194,195],{},"命名转换规则",[27,197,198,207],{},[30,199,200,203,204],{},[58,201,202],{"code":202},"LazyWidgetWeather"," → ",[58,205,206],{"code":206},"weather",[30,208,209],{},"自动处理组件名称的kebab-case转换",[47,211,213],{"id":212},"第四步配置布局状态管理","第四步：配置布局状态管理",[20,215,216,56,218],{},[33,217,55],{},[58,219,220],{"code":220},"app/stores/layout.ts",[20,222,223,225],{},[33,224,65],{},": 管理页面布局状态，包括侧边栏、右侧栏的开关状态和显示的小部件列表",[20,227,228,72],{},[33,229,230],{},"核心功能",[74,232,235],{"className":233,"code":234,"language":188,"meta":80},[186],"export const useLayoutStore = defineStore('layout', () => {\n  const asideWidgets = ref\u003CWidgetName[]>([])\n  \n  const setAside = (widgets?: WidgetName[]) => {\n    if (widgets) {\n      asideWidgets.value = widgets ?? []\n    }\n  }\n  \n  return {\n    asideWidgets,\n    setAside,\n  }\n})\n",[58,236,234],{"__ignoreMap":80},[20,238,239,72],{},[33,240,241],{},"状态管理",[27,243,244,247],{},[30,245,246],{},"存储当前页面需要显示的右侧栏小部件列表",[30,248,249,250,253],{},"提供",[58,251,252],{"code":252},"setAside","方法动态设置小部件",[47,255,257],{"id":256},"第五步在页面中启用天气模块","第五步：在页面中启用天气模块",[20,259,260,56,262],{},[33,261,55],{},[58,263,264],{"code":264},"app/pages/news.vue",[20,266,267,269],{},[33,268,65],{},": 在news页面中配置并启用天气小部件",[20,271,272,72],{},[33,273,182],{},[74,275,278],{"className":276,"code":277,"language":79,"meta":80},[77],"\u003Cscript setup lang=\"ts\">\nconst layoutStore = useLayoutStore()\n\n\nlayoutStore.setAside(['weather'])\n\u003C/script>\n",[58,279,277],{"__ignoreMap":80},[20,281,282,72],{},[33,283,284],{},"实现逻辑",[27,286,287,293,299],{},[30,288,289,290],{},"页面加载时调用",[58,291,292],{"code":292},"layoutStore.setAside(['weather'])",[30,294,295,296,298],{},"将",[58,297,206],{"code":206},"添加到右侧栏小部件列表中",[30,300,301],{},"触发右侧栏显示天气模块",[47,303,305],{"id":304},"第六步渲染右侧栏组件","第六步：渲染右侧栏组件",[20,307,308,56,310],{},[33,309,55],{},[58,311,312],{"code":312},"app/components/ZAside.vue",[20,314,315,317],{},[33,316,65],{},": 根据布局状态动态渲染右侧栏中的小部件",[20,319,320,72],{},[33,321,322],{},"核心实现",[74,324,327],{"className":325,"code":326,"language":79,"meta":80},[77],"\u003Cscript setup lang=\"ts\">\nconst layoutStore = useLayoutStore()\nconst { widgets } = useWidgets(() => layoutStore.asideWidgets)\n\u003C/script>\n\n\u003Ctemplate>\n\u003Caside v-if=\"layoutStore.asideWidgets?.length\" id=\"z-aside\">\n  \u003CTransitionGroup name=\"float-in\">\n    \u003Ccomponent \n      :is=\"widget.comp\" \n      v-for=\"widget in widgets\" \n      :key=\"widget.name\" \n    />\n  \u003C/TransitionGroup>\n\u003C/aside>\n\u003C/template>\n",[58,328,326],{"__ignoreMap":80},[20,330,331,72],{},[33,332,333],{},"渲染机制",[27,335,336,343,350,353],{},[30,337,338,339,342],{},"监听",[58,340,341],{"code":341},"layoutStore.asideWidgets","的变化",[30,344,345,346,349],{},"使用",[58,347,348],{"code":348},"useWidgets","组合式函数获取组件实例",[30,351,352],{},"动态渲染小部件组件",[30,354,355],{},"支持动画过渡效果",[16,357,358],{"id":358},"数据流程",[74,360,365],{"className":361,"code":363,"language":364},[362],"language-text","1. news.vue 页面加载\n   ↓\n2. 调用 layoutStore.setAside(['weather'])\n   ↓\n3. 更新 asideWidgets 状态\n   ↓\n4. ZAside.vue 监听到状态变化\n   ↓\n5. useWidgets 解析组件名称\n   ↓\n6. 渲染 LazyWidgetWeather 组件\n   ↓\n7. Weather.vue 组件挂载\n   ↓\n8. 调用天气API获取数据\n   ↓\n9. 渲染天气信息UI\n","text",[58,366,363],{"__ignoreMap":80},[16,368,369],{"id":369},"样式设计特点",[47,371,372],{"id":372},"响应式布局",[27,374,375,378,381],{},[30,376,377],{},"使用CSS Grid和Flexbox实现灵活布局",[30,379,380],{},"支持移动端和桌面端的不同显示效果",[30,382,383],{},"使用CSS变量实现主题切换",[47,385,386],{"id":386},"视觉层次",[27,388,389,392,395],{},[30,390,391],{},"清晰的信息分组和间距",[30,393,394],{},"使用图标增强可读性",[30,396,397],{},"合理的颜色对比和字体大小",[47,399,400],{"id":400},"交互体验",[27,402,403,406,409],{},[30,404,405],{},"加载状态和错误状态的友好提示",[30,407,408],{},"自动刷新机制（每小时更新一次）",[30,410,411],{},"重试按钮支持手动刷新",[16,413,414],{"id":414},"配置说明",[47,416,418],{"id":417},"天气api配置","天气API配置",[27,420,421,429,438,447],{},[30,422,423,56,426],{},[33,424,425],{},"API地址",[58,427,428],{"code":428},"https://openapi.weathercn.com/forecasts/v1/daily/1day/{cityCode}.json",[30,430,431,56,434,437],{},[33,432,433],{},"城市代码",[58,435,436],{"code":436},"{cityCode}"," (郑州)",[30,439,440,56,443,446],{},[33,441,442],{},"API密钥",[58,444,445],{"code":445},"******"," (需要申请和风天气API密钥)",[30,448,449,452],{},[33,450,451],{},"数据格式",": JSON格式的天气预报数据",[47,454,455],{"id":455},"组件配置",[27,457,458,464,470,476],{},[30,459,460,463],{},[33,461,462],{},"自动刷新间隔",": 60分钟",[30,465,466,469],{},[33,467,468],{},"默认城市",": 郑州",[30,471,472,475],{},[33,473,474],{},"温度单位",": 摄氏度",[30,477,478,481],{},[33,479,480],{},"语言",": 中文",[16,483,484],{"id":484},"扩展性设计",[47,486,487],{"id":487},"支持多城市",[20,489,490],{},"可以通过修改城市代码和API参数来支持其他城市：",[74,492,495],{"className":493,"code":494,"language":188,"meta":80},[186],"\nconst cityCodes = {\n  'zhengzhou': '{cityCode1}',\n  'beijing': '{cityCode2}',\n  'shanghai': '{cityCode3}'\n}\n",[58,496,494],{"__ignoreMap":80},[16,498,499],{"id":499},"性能优化",[47,501,502],{"id":502},"懒加载",[27,504,505,510],{},[30,506,345,507,509],{},[58,508,129],{"code":129},"延迟加载天气组件",[30,511,155],{},[47,513,514],{"id":514},"缓存策略",[27,516,517,520],{},[30,518,519],{},"每小时自动刷新一次，避免频繁API调用",[30,521,522],{},"可以进一步实现本地存储缓存",[47,524,525],{"id":525},"错误处理",[27,527,528,531],{},[30,529,530],{},"完善的错误边界处理",[30,532,533],{},"用户友好的错误提示和重试机制",{"title":80,"searchDepth":535,"depth":535,"links":536},4,[537,539,540,549,550,555,559,562],{"id":18,"depth":538,"text":18},2,{"id":25,"depth":538,"text":25},{"id":45,"depth":538,"text":45,"children":541},[542,544,545,546,547,548],{"id":49,"depth":543,"text":50},3,{"id":113,"depth":543,"text":114},{"id":164,"depth":543,"text":165},{"id":212,"depth":543,"text":213},{"id":256,"depth":543,"text":257},{"id":304,"depth":543,"text":305},{"id":358,"depth":538,"text":358},{"id":369,"depth":538,"text":369,"children":551},[552,553,554],{"id":372,"depth":543,"text":372},{"id":386,"depth":543,"text":386},{"id":400,"depth":543,"text":400},{"id":414,"depth":538,"text":414,"children":556},[557,558],{"id":417,"depth":543,"text":418},{"id":455,"depth":543,"text":455},{"id":484,"depth":538,"text":484,"children":560},[561],{"id":487,"depth":543,"text":487},{"id":499,"depth":538,"text":499,"children":563},[564,565,566],{"id":502,"depth":543,"text":502},{"id":514,"depth":543,"text":514},{"id":525,"depth":543,"text":525},[568],"魔改","2025-09-01 01:00:00","本站中天气模块是一个显示郑州地区天气信息的小部件（站长身处郑州）,该模块通过调用第三方天气API获取实时天气数据，并以美观的卡片形式展示出来。",false,"md","https://www.luochenup.xyz/weather.webp",{},true,"/2025/weather",{"text":578,"minutes":579,"time":580,"words":581},"7 min read",6.82,409200,1364,null,{"title":7,"description":570},"posts/2025/weather","Cy85Dp-Aq2W1XNuInaCLnTzFpH9Plq9zmf4JpANXOHE",{"id":6,"title":7,"body":587,"categories":987,"date":569,"description":570,"draft":571,"extension":572,"image":573,"meta":988,"navigation":575,"path":576,"readingTime":989,"recommend":543,"references":582,"seo":990,"stem":584,"tags":582,"type":582,"updated":569,"__hash__":585},{"type":9,"value":588,"toc":957},[589,591,593,595,597,607,609,611,617,621,625,630,634,650,652,658,666,670,675,679,687,689,695,699,703,708,712,722,724,730,734,738,743,747,755,757,763,767,771,776,780,792,794,800,804,808,813,817,831,833,838,840,842,850,852,860,862,870,872,874,898,900,918,920,922,924,929,931,933,941,943,949,951],[12,590,14],{"id":14},[16,592,18],{"id":18},[20,594,22],{},[16,596,25],{"id":25},[27,598,599,603],{},[30,600,601,36],{},[33,602,35],{},[30,604,605,42],{},[33,606,41],{},[16,608,45],{"id":45},[47,610,50],{"id":49},[20,612,613,56,615],{},[33,614,55],{},[58,616,60],{"code":60},[20,618,619,66],{},[33,620,65],{},[20,622,623,72],{},[33,624,71],{},[74,626,628],{"className":627,"code":78,"language":79,"meta":80},[77],[58,629,78],{"__ignoreMap":80},[20,631,632,72],{},[33,633,87],{},[27,635,636,638,640,642,644,646,648],{},[30,637,92],{},[30,639,95],{},[30,641,98],{},[30,643,101],{},[30,645,104],{},[30,647,107],{},[30,649,110],{},[47,651,114],{"id":113},[20,653,654,56,656],{},[33,655,55],{},[58,657,121],{"code":121},[20,659,660,126,662,130,664,134],{},[33,661,65],{},[58,663,129],{"code":129},[58,665,133],{"code":133},[20,667,668,72],{},[33,669,139],{},[74,671,673],{"className":672,"code":143,"language":79,"meta":80},[77],[58,674,143],{"__ignoreMap":80},[20,676,677,72],{},[33,678,150],{},[27,680,681,683,685],{},[30,682,155],{},[30,684,158],{},[30,686,161],{},[47,688,165],{"id":164},[20,690,691,56,693],{},[33,692,55],{},[58,694,172],{"code":172},[20,696,697,177],{},[33,698,65],{},[20,700,701,72],{},[33,702,182],{},[74,704,706],{"className":705,"code":187,"language":188,"meta":80},[186],[58,707,187],{"__ignoreMap":80},[20,709,710,72],{},[33,711,195],{},[27,713,714,720],{},[30,715,716,203,718],{},[58,717,202],{"code":202},[58,719,206],{"code":206},[30,721,209],{},[47,723,213],{"id":212},[20,725,726,56,728],{},[33,727,55],{},[58,729,220],{"code":220},[20,731,732,225],{},[33,733,65],{},[20,735,736,72],{},[33,737,230],{},[74,739,741],{"className":740,"code":234,"language":188,"meta":80},[186],[58,742,234],{"__ignoreMap":80},[20,744,745,72],{},[33,746,241],{},[27,748,749,751],{},[30,750,246],{},[30,752,249,753,253],{},[58,754,252],{"code":252},[47,756,257],{"id":256},[20,758,759,56,761],{},[33,760,55],{},[58,762,264],{"code":264},[20,764,765,269],{},[33,766,65],{},[20,768,769,72],{},[33,770,182],{},[74,772,774],{"className":773,"code":277,"language":79,"meta":80},[77],[58,775,277],{"__ignoreMap":80},[20,777,778,72],{},[33,779,284],{},[27,781,782,786,790],{},[30,783,289,784],{},[58,785,292],{"code":292},[30,787,295,788,298],{},[58,789,206],{"code":206},[30,791,301],{},[47,793,305],{"id":304},[20,795,796,56,798],{},[33,797,55],{},[58,799,312],{"code":312},[20,801,802,317],{},[33,803,65],{},[20,805,806,72],{},[33,807,322],{},[74,809,811],{"className":810,"code":326,"language":79,"meta":80},[77],[58,812,326],{"__ignoreMap":80},[20,814,815,72],{},[33,816,333],{},[27,818,819,823,827,829],{},[30,820,338,821,342],{},[58,822,341],{"code":341},[30,824,345,825,349],{},[58,826,348],{"code":348},[30,828,352],{},[30,830,355],{},[16,832,358],{"id":358},[74,834,836],{"className":835,"code":363,"language":364},[362],[58,837,363],{"__ignoreMap":80},[16,839,369],{"id":369},[47,841,372],{"id":372},[27,843,844,846,848],{},[30,845,377],{},[30,847,380],{},[30,849,383],{},[47,851,386],{"id":386},[27,853,854,856,858],{},[30,855,391],{},[30,857,394],{},[30,859,397],{},[47,861,400],{"id":400},[27,863,864,866,868],{},[30,865,405],{},[30,867,408],{},[30,869,411],{},[16,871,414],{"id":414},[47,873,418],{"id":417},[27,875,876,882,888,894],{},[30,877,878,56,880],{},[33,879,425],{},[58,881,428],{"code":428},[30,883,884,56,886,437],{},[33,885,433],{},[58,887,436],{"code":436},[30,889,890,56,892,446],{},[33,891,442],{},[58,893,445],{"code":445},[30,895,896,452],{},[33,897,451],{},[47,899,455],{"id":455},[27,901,902,906,910,914],{},[30,903,904,463],{},[33,905,462],{},[30,907,908,469],{},[33,909,468],{},[30,911,912,475],{},[33,913,474],{},[30,915,916,481],{},[33,917,480],{},[16,919,484],{"id":484},[47,921,487],{"id":487},[20,923,490],{},[74,925,927],{"className":926,"code":494,"language":188,"meta":80},[186],[58,928,494],{"__ignoreMap":80},[16,930,499],{"id":499},[47,932,502],{"id":502},[27,934,935,939],{},[30,936,345,937,509],{},[58,938,129],{"code":129},[30,940,155],{},[47,942,514],{"id":514},[27,944,945,947],{},[30,946,519],{},[30,948,522],{},[47,950,525],{"id":525},[27,952,953,955],{},[30,954,530],{},[30,956,533],{},{"title":80,"searchDepth":535,"depth":535,"links":958},[959,960,961,969,970,975,979,982],{"id":18,"depth":538,"text":18},{"id":25,"depth":538,"text":25},{"id":45,"depth":538,"text":45,"children":962},[963,964,965,966,967,968],{"id":49,"depth":543,"text":50},{"id":113,"depth":543,"text":114},{"id":164,"depth":543,"text":165},{"id":212,"depth":543,"text":213},{"id":256,"depth":543,"text":257},{"id":304,"depth":543,"text":305},{"id":358,"depth":538,"text":358},{"id":369,"depth":538,"text":369,"children":971},[972,973,974],{"id":372,"depth":543,"text":372},{"id":386,"depth":543,"text":386},{"id":400,"depth":543,"text":400},{"id":414,"depth":538,"text":414,"children":976},[977,978],{"id":417,"depth":543,"text":418},{"id":455,"depth":543,"text":455},{"id":484,"depth":538,"text":484,"children":980},[981],{"id":487,"depth":543,"text":487},{"id":499,"depth":538,"text":499,"children":983},[984,985,986],{"id":502,"depth":543,"text":502},{"id":514,"depth":543,"text":514},{"id":525,"depth":543,"text":525},[568],{},{"text":578,"minutes":579,"time":580,"words":581},{"title":7,"description":570},[992,997],{"title":993,"path":994,"stem":995,"date":996,"type":582,"children":-1},"实战Cursor","/2025/cursor","posts/2025/cursor","2025-08-24 02:16:02",{"title":998,"path":999,"stem":1000,"date":1001,"type":582,"children":-1},"轮播滑块","/2025/carousel-slide","posts/2025/carousel-slide","2025-09-05 14:29:02",["Reactive",1003],{"$scolor-mode":1004,"$snuxt-seo-utils:routeRules":1006,"$ssite-config":1007},{"preference":1005,"value":1005,"unknown":575,"forced":571},"system",{"head":-1,"seoMeta":-1},{"_priority":1008,"defaultLocale":1011,"env":1012,"name":1013,"url":1014},{"name":1009,"env":1010,"url":1009,"defaultLocale":1009},-3,-15,"zh-CN","production","落尘up","https://www.luochen.chat/",["Set"],["ShallowReactive",1017],{"/2025/weather":-1,"toc-/2025/weather":-1,"surround-/2025/weather":-1},{"layout":1019,"search":1027,"popover":1030,"shiki":1034},{"open":1020,"asideWidgets":1023},["Ref",1021],["Reactive",1022],{"sidebar":571,"aside":571,"search":571},["Ref",1024],["Reactive",1025],[1026],"toc",{"word":1028},["EmptyRef",1029],"\"\"",{"pops":1031},["Ref",1032],["Reactive",1033],[],{}]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{buildTime:"2025-10-26T14:04:47.296Z",zaobaoToken:"0hbyaty06lzwmdwdzynwqwljems0tx",content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true}},app:{baseURL:"/",buildId:"89003721-fc0f-4366-b280-857afaca1928",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>